var hive=angular.module("hive.controllers",[]);hive.controller("MainCtrl",function(){}),hive.controller("LoginCtrl",function(e,o,t){function a(e){switch(e.provider){case"password":return e.password.email;case"twitter":return e.twitter.displayName;case"facebook":return e.facebook.displayName}}var r=new Firebase("https://10minute.firebaseio.com/");e.register=function(e,o){r.createUser({email:e,password:o},function(e,o){e?console.log("Error creating user:",e):t.go("blank")})},e.login=function(e,o){r.authWithPassword({email:e,password:o},function(e,o){e?console.log("Login Failed!",e):t.go("blank")})};var s=!0;r.onAuth(function(e){e&&s&&r.child("users").child(e.uid).set({provider:e.provider,email:a(e)})}),e.logout=function(){r.unauth(),t.go("login")}}),hive.controller("ChatDetailCtrl",function(e,o,t,a,r,s){e.chat=r.get(a.chatId),e.sendMessage=function(){e.newMessage=s.all,e.newMessage.$add({messageDetails:e.messageDetails}),e.master=null,e.reset=function(){e.messageDetails=angular.copy(e.master),e.form&&e.form.$setPristine()},e.reset()},e.messages=s.all});