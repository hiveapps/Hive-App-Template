var hive=angular.module("hive.controllers",[]);hive.controller("MainCtrl",function(){}),hive.controller("LoginCtrl",function(e,o,i){function t(e){switch(e.provider){case"password":return e.password.email}}var n=new Firebase("https://10minute.firebaseio.com/");e.register=function(e,o){n.createUser({email:e,password:o},function(e,o){e?console.log("Error creating user:",e):i.go("hive.home")})},e.login=function(e,o){n.authWithPassword({email:e,password:o},function(e,o){e?console.log("Login Failed!",e):i.go("hive.home")})};var s=!0;n.onAuth(function(e){e&&s&&n.child("users").child(e.uid).set({provider:e.provider,email:t(e)})}),e.logout=function(){n.unauth(),i.go("login")}}),hive.controller("addController",function(e){var o=new Firebase("https://10minute.firebaseio.com/"),i=o.child("posts");e.submitPost=function(){var o=i.push();o.set({postDescription:e.postDescription}),e.master=null,e.reset=function(){e.postDescription=angular.copy(e.master),e.form&&e.form.$setPristine()},e.reset()}}),hive.controller("ThreadCtrl",function(e,o){function i(o){e.rate=o.val()}var t=new Firebase("https://10minute.firebaseio.com/posts");t.on("value",function(e){o(function(){i(e),console.log(e)})})}),hive.controller("ChatDetailCtrl",function(e,o,i,t){function n(o){e.messages=o.val()}var s=new Firebase("https://10minute.firebaseio.com/"),r=$("#chat-detail"),a=s.child("messages");e.submitMessage=function(){var o=a.push();o.set({messageDescription:e.messageDescription}),e.master=null,e.reset=function(){e.messageDescription=angular.copy(e.master),e.form&&e.form.$setPristine()},e.reset()};var c=new Firebase("https://10minute.firebaseio.com/messages");c.on("value",function(e){t(function(){n(e),console.log(e)})}),r[0].scrollTop=r[0].scrollHeight});